{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SignUpComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst core_1 = require(\"@angular/core\");\nconst router_1 = require(\"@angular/router\");\nconst forms_1 = require(\"@angular/forms\");\nconst http_1 = require(\"@angular/common/http\");\nconst common_1 = require(\"@angular/common\");\nlet SignUpComponent = class SignUpComponent {\n  router;\n  http;\n  firstName = '';\n  lastName = '';\n  email = '';\n  password = '';\n  confirmPassword = '';\n  errorMessage = '';\n  isLoading = false;\n  constructor(router, http) {\n    this.router = router;\n    this.http = http;\n  }\n  submitSignUp() {\n    if (this.password !== this.confirmPassword) {\n      this.errorMessage = 'Les mots de passe ne correspondent pas!';\n      return;\n    }\n    this.isLoading = true;\n    this.errorMessage = '';\n    const userData = {\n      name: `${this.firstName} ${this.lastName}`,\n      email: this.email,\n      password: this.password\n    };\n    this.http.post('http://localhost:5000/api/users/signup', userData).subscribe({\n      next: response => {\n        console.log('Utilisateur enregistré:', response);\n        this.isLoading = false;\n        this.router.navigate(['/dashbord']);\n      },\n      error: error => {\n        console.error('Erreur lors de l\\'inscription:', error);\n        this.isLoading = false;\n        this.errorMessage = error.error?.message || 'Erreur lors de l\\'inscription. Veuillez réessayer.';\n      }\n    });\n  }\n  goToLogin() {\n    this.router.navigate(['/login']);\n  }\n  static ctorParameters = () => [{\n    type: router_1.Router\n  }, {\n    type: http_1.HttpClient\n  }];\n};\nexports.SignUpComponent = SignUpComponent;\nexports.SignUpComponent = SignUpComponent = tslib_1.__decorate([(0, core_1.Component)({\n  selector: 'app-sign-up',\n  template: require(\"./sign-up.component.html?ngResource\"),\n  standalone: true,\n  imports: [forms_1.FormsModule, http_1.HttpClientModule, common_1.CommonModule],\n  styles: [require(\"./sign-up.component.css?ngResource\")]\n}), tslib_1.__metadata(\"design:paramtypes\", [router_1.Router, http_1.HttpClient])], SignUpComponent);","map":{"version":3,"names":["core_1","require","router_1","forms_1","http_1","common_1","SignUpComponent","router","http","firstName","lastName","email","password","confirmPassword","errorMessage","isLoading","constructor","submitSignUp","userData","name","post","subscribe","next","response","console","log","navigate","error","message","goToLogin","exports","tslib_1","__decorate","Component","selector","template","standalone","imports","FormsModule","HttpClientModule","CommonModule","Router","HttpClient"],"sources":["/home/eya/Documents/pfe/frontend/src/app/page/sign-up/sign-up.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClient, HttpClientModule, HttpErrorResponse } from '@angular/common/http';\nimport { CommonModule } from '@angular/common';\n\ninterface SignupResponse {\n  message: string;\n  token: string;\n  user: {\n    id: string;\n    name: string;\n    email: string;\n  };\n}\n\n@Component({\n  selector: 'app-sign-up',\n  templateUrl: './sign-up.component.html',\n  styleUrls: ['./sign-up.component.css'],\n  standalone: true,\n  imports: [FormsModule, HttpClientModule, CommonModule],\n})\nexport class SignUpComponent {\n  firstName: string = '';\n  lastName: string = '';\n  email: string = '';\n  password: string = '';\n  confirmPassword: string = '';\n  errorMessage: string = '';\n  isLoading: boolean = false;\n\n  constructor(private router: Router, private http: HttpClient) {}\n\n  submitSignUp() {\n    if (this.password !== this.confirmPassword) {\n      this.errorMessage = 'Les mots de passe ne correspondent pas!';\n      return;\n    }\n\n    this.isLoading = true;\n    this.errorMessage = '';\n\n    const userData = {\n      name: `${this.firstName} ${this.lastName}`,\n      email: this.email,\n      password: this.password,\n    };\n\n    this.http.post<SignupResponse>('http://localhost:5000/api/users/signup', userData)\n      .subscribe({\n        next: (response: SignupResponse) => {\n          console.log('Utilisateur enregistré:', response);\n          this.isLoading = false;\n          this.router.navigate(['/dashbord']);\n        },\n        error: (error: HttpErrorResponse) => {\n          console.error('Erreur lors de l\\'inscription:', error);\n          this.isLoading = false;\n          this.errorMessage = error.error?.message || 'Erreur lors de l\\'inscription. Veuillez réessayer.';\n        }\n      });\n  }\n\n  goToLogin() {\n    this.router.navigate(['/login']);\n  }\n}"],"mappings":";;;;;;;AAAA,MAAAA,MAAA,GAAAC,OAAA;AACA,MAAAC,QAAA,GAAAD,OAAA;AACA,MAAAE,OAAA,GAAAF,OAAA;AACA,MAAAG,MAAA,GAAAH,OAAA;AACA,MAAAI,QAAA,GAAAJ,OAAA;AAmBO,IAAMK,eAAe,GAArB,MAAMA,eAAe;EASNC,MAAA;EAAwBC,IAAA;EAR5CC,SAAS,GAAW,EAAE;EACtBC,QAAQ,GAAW,EAAE;EACrBC,KAAK,GAAW,EAAE;EAClBC,QAAQ,GAAW,EAAE;EACrBC,eAAe,GAAW,EAAE;EAC5BC,YAAY,GAAW,EAAE;EACzBC,SAAS,GAAY,KAAK;EAE1BC,YAAoBT,MAAc,EAAUC,IAAgB;IAAxC,KAAAD,MAAM,GAANA,MAAM;IAAkB,KAAAC,IAAI,GAAJA,IAAI;EAAe;EAE/DS,YAAYA,CAAA;IACV,IAAI,IAAI,CAACL,QAAQ,KAAK,IAAI,CAACC,eAAe,EAAE;MAC1C,IAAI,CAACC,YAAY,GAAG,yCAAyC;MAC7D;IACF;IAEA,IAAI,CAACC,SAAS,GAAG,IAAI;IACrB,IAAI,CAACD,YAAY,GAAG,EAAE;IAEtB,MAAMI,QAAQ,GAAG;MACfC,IAAI,EAAE,GAAG,IAAI,CAACV,SAAS,IAAI,IAAI,CAACC,QAAQ,EAAE;MAC1CC,KAAK,EAAE,IAAI,CAACA,KAAK;MACjBC,QAAQ,EAAE,IAAI,CAACA;KAChB;IAED,IAAI,CAACJ,IAAI,CAACY,IAAI,CAAiB,wCAAwC,EAAEF,QAAQ,CAAC,CAC/EG,SAAS,CAAC;MACTC,IAAI,EAAGC,QAAwB,IAAI;QACjCC,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEF,QAAQ,CAAC;QAChD,IAAI,CAACR,SAAS,GAAG,KAAK;QACtB,IAAI,CAACR,MAAM,CAACmB,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC;MACrC,CAAC;MACDC,KAAK,EAAGA,KAAwB,IAAI;QAClCH,OAAO,CAACG,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;QACtD,IAAI,CAACZ,SAAS,GAAG,KAAK;QACtB,IAAI,CAACD,YAAY,GAAGa,KAAK,CAACA,KAAK,EAAEC,OAAO,IAAI,oDAAoD;MAClG;KACD,CAAC;EACN;EAEAC,SAASA,CAAA;IACP,IAAI,CAACtB,MAAM,CAACmB,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;EAClC;;;;;;;AA3CWI,OAAA,CAAAxB,eAAA,GAAAA,eAAA;0BAAAA,eAAe,GAAAyB,OAAA,CAAAC,UAAA,EAP3B,IAAAhC,MAAA,CAAAiC,SAAS,EAAC;EACTC,QAAQ,EAAE,aAAa;EACvBC,QAAA,EAAAlC,OAAA,uCAAuC;EAEvCmC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CAAClC,OAAA,CAAAmC,WAAW,EAAElC,MAAA,CAAAmC,gBAAgB,EAAElC,QAAA,CAAAmC,YAAY,CAAC;;CACvD,CAAC,E,yCAU4BtC,QAAA,CAAAuC,MAAM,EAAgBrC,MAAA,CAAAsC,UAAU,G,EATjDpC,eAAe,CA4C3B","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}